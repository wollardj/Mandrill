<template name="munkiEditManifest">

    <div class="mandrill-header">
        <h2>Munki Repo - Manifest Editor</h2>
        {{>munkiBreadcrumbs}}
    </div>


    <div class="container-fluid">
        <div class="btn-toolbar">
            <div class="btn-group btn-group-sm">
                <button type="button" class="btn btn-default">All</button>
                <button type="button" class="btn btn-default">
                    Installs
                </button>
                <button type="button" class="btn btn-default">
                    Updates
                </button>
                <button type="button" class="btn btn-default">
                    Optionals
                </button>
                <button type="button" class="btn btn-default">
                    Uninstalls
                </button>
            </div>

            <div class="btn-group btn-group-sm">
                {{>mandrillConditionsButton}}
            </div>
        </div>
        <div class="list-group">
            {{#each flatManifest}}
            <div class="list-group-item row
                {{#if isOptionalInstall}}list-group-item-success{{/if}}
                {{#if isManagedUninstall}}list-group-item-danger{{/if}}
                {{#if isManagedUpdate}}list-group-item-info{{/if}}
                ">
                <div class="col-sm-2 col-xs-4 text-right">
                    <div class="btn-group">
                        <button type="button" class="btn btn-link btn-sm dropdown-toggle" data-toggle="dropdown">
                            {{typeMnemonic installType}}
                            <i class="fa fa-caret-down"></i>
                        </button>
                        <ul class="dropdown-menu" role="menu" data-manifest="install-type">
                            <li class="{{#if isManagedInstall}}active{{/if}}">
                                <a href="#managed_installs">
                                    {{typeMnemonic 'managed_installs'}}
                                </a>
                            </li>
                            <li class="{{#if isManagedUpdate}}active{{/if}}">
                                <a href="#managed_updates">
                                    {{typeMnemonic 'managed_updates'}}
                                </a>
                            </li>
                            <li class="{{#if isManagedUninstall}}active{{/if}}">
                                <a href="#managed_uninstalls">
                                    {{typeMnemonic 'managed_uninstalls'}}
                                </a>
                            </li>
                            <li class="{{#if isOptionalInstall}}active{{/if}}">
                                <a href="#optional_installs">
                                    {{typeMnemonic 'optional_installs'}}
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="col-sm-4 col-xs-8">
                    {{>munki_pkg_icon pkg=pkg size="xs"}}
                    {{munki_pkg_display_name pkg}}
                </div>

                <div class="col-sm-6 col-xs-12">
                    {{#if conditions}}
                    <ul class="list-group small sortable munki-manifest-conditions">
                    {{#each conditions}}
                        <li class="list-group-item" title="{{this}}">
                            {{mandrillConditionsByName this}}
                        </li>
                    {{/each}}
                    </ul>
                    {{/if}}
                </div>
            </div>
            {{/each}}
        </div>
    </div>

</template>
